import{i as l,e as n,a as v,m as g,h as s,s as m}from"./funcoes-Cgl9EgzG.js";import{l as h}from"./funcoes-Bxh6dJ7Z.js";import"./index-CDmlgJae.js";var p=l("editar_pergunta_tipo_empreendimento"),_=l("editar_pergunta_topico"),u=l("editar_pergunta_area"),c=l("editar_pergunta_tag");$(document).on("click",".editar",function(){$("#editar_pergunta_tematica").empty(),axios.get("tematicas/lista").then(a=>{let t=a.data;for(let e in t){let i=t[e].ativo==!0?"Ativo":"Inativo",o=`<option value="${t[e].id}">${t[e].nome}(${i})</option>`;$("#editar_pergunta_tematica").append(o)}}).catch(a=>{n(a)}),axios.get("tipos_empreendimentos/lista").then(a=>{let t=a.data;for(let e in t){let i=t[e].ativo==!0?"Ativo":"Inativo";p.addOption({value:t[e].id,text:t[e].nome+`(${i})`})}}).catch(a=>n(a)),axios.get("topicos/lista").then(a=>{let t=a.data;for(let e in t){let i=t[e].ativo==!0?"Ativo":"Inativo";_.addOption({value:t[e].id,text:t[e].nome+`(${i})`})}}).catch(a=>n(a)),axios.get("areas/lista").then(a=>{let t=a.data;for(let e in t){let i=t[e].ativo==!0?"Ativo":"Inativo";u.addOption({value:t[e].id,text:t[e].nome+`(${i})`})}}).catch(a=>n(a)),axios.get("tags/lista").then(a=>{let t=a.data;for(let e in t){let i=t[e].ativo==!0?"Ativo":"Inativo";c.addOption({value:t[e].id,text:t[e].nome+`(${i})`})}}).catch(a=>n(a)),v("modal_editar_pergunta",!1);let d=$(this).attr("pergunta");axios.get("perguntas/detalhes/"+d).then(a=>{let t=a.data,e=!!a.data.ativo,i=[];for(let o in t.tipos_empreendimentos){let r=t.tipos_empreendimentos[o].id;i.push(r)}p.setValue(i),i=[];for(let o in t.topicos){let r=t.topicos[o].id;i.push(r)}_.setValue(i),i=[];for(let o in t.areas){let r=t.areas[o].id;i.push(r)}u.setValue(i),i=[];for(let o in t.tags){let r=t.tags[o].id;i.push(r)}c.setValue(i),$("#editar_pergunta_id").val(t.id),$("#editar_pergunta_titulo").val(t.titulo),$("#editar_pergunta_tematica").val(t.tematica_id),$("#editar_pergunta_ativo").prop("checked",e),g("modal_editar_pergunta")}).catch(a=>{n(a)})});$("#btn_editar_pergunta").click(function(){s("btn_editar_pergunta",!1);let d={titulo:$("#editar_pergunta_titulo").val(),tematica_id:$("#editar_pergunta_tematica").val(),tipos_empreendimentos:$("#editar_pergunta_tipo_empreendimento").val(),topicos:$("#editar_pergunta_topico").val(),areas:$("#editar_pergunta_area").val(),tags:$("#editar_pergunta_tag").val(),ativo:$("#editar_pergunta_ativo").prop("checked")},a=$("#editar_pergunta_id").val();axios.put("perguntas/editar/"+a,d).then(t=>{m(t),h()}).catch(t=>{n(t)}).finally(()=>{s("btn_editar_pergunta",!0)})});
