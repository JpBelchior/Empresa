import{i as n,a as u,m as j,e as c,h as s,s as m,f}from"./funcoes-vPaU6AKm.js";import{l as v}from"./funcoes-rVJMqsY-.js";import{p as h}from"./funcoes-tJlRCxw1.js";import{p as b}from"./funcoes-Dxr4YfFk.js";import"./index-D9w9XwWd.js";var l=n("editar_projeto_funcionario"),d=n("editar_projeto_cliente");$(document).on("click",".editar",async function(){let i=$(this).attr("projeto");u("modal_editar_projeto",!1);let e=await h("ativo","true");for(let t in e)l.addOption({value:e[t].id,text:e[t].nome});let a=await b("ativo","true");for(let t in a)d.addOption({value:a[t].id,text:a[t].nome});axios.get("projetos/detalhes/"+i).then(t=>{let o=t.data;$("#editar_projeto_status").val(o.status),$("#editar_projeto_id").val(o.id),$("#editar_projeto_nome").val(o.nome),$("#editar_projeto_data_inicio").val(o.data_inicio),$("#editar_projeto_data_conclusao").val(o.data_conclusao);let r=[],_=o.usuarios;for(let p in _)r.push(_[p].usuario_id);l.setValue(r),d.setValue(o.cliente_id),j("modal_editar_projeto")}).catch(t=>{c(t)}).finally(()=>{})});$("#btn_editar_projeto").click(function(){s("btn_editar_projeto",!1);let i={status:$("#editar_projeto_status").val(),nome:$("#editar_projeto_nome").val(),data_inicio:$("#editar_projeto_data_inicio").val(),data_conclusao:$("#editar_projeto_data_conclusao").val(),cliente:$("#editar_projeto_cliente").val(),funcionarios:$("#editar_projeto_funcionario").val()},e=$("#editar_projeto_id").val();axios.put("projetos/editar/"+e,i).then(a=>{m(a),v(),f("modal_editar_projeto")}).catch(a=>{c(a)}).finally(()=>{s("btn_editar_projeto",!0)})});
