import{i as m,a as u,m as f,e as c,h as p,s as j,f as v}from"./funcoes-BcfOcYSN.js";import{l as h}from"./funcoes-C-tuSpZF.js";import{p as b}from"./funcoes-LxE7Tn4q.js";import{p as x}from"./funcoes-DeCFn0aS.js";import"./index-CnACay8y.js";var s=m("editar_projeto_tipo_empreendimento"),l=m("editar_projeto_funcionario");$(document).on("click",".editar",async function(){let r=$(this).attr("projeto");u("modal_editar_projeto",!1);let t=await b("ativo","true");for(let e in t)s.addOption({value:t[e].id,text:t[e].nome});let o=await x("ativo","true");for(let e in o)l.addOption({value:o[e].id,text:o[e].nome});axios.get("projetos/detalhes/"+r).then(e=>{let a=e.data;$("#editar_projeto_id").val(a.id),$("#editar_projeto_nome").val(a.nome),$("#editar_projeto_data").val(a.data_projeto);let i=[],d=a.tipos_empreendimentos;for(let _ in d)i.push(d[_].tipo_empreendimento_id);s.setValue(i),i=[];let n=a.usuarios;for(let _ in n)i.push(n[_].usuario_id);l.setValue(i),f("modal_editar_projeto")}).catch(e=>{c(e)}).finally(()=>{})});$("#btn_editar_projeto").click(function(){p("btn_editar_projeto",!1);let r={nome:$("#editar_projeto_nome").val(),data_projeto:$("#editar_projeto_data").val(),tipos_empreendimentos:$("#editar_projeto_tipo_empreendimento").val(),funcionarios:$("#editar_projeto_funcionario").val()},t=$("#editar_projeto_id").val();axios.put("projetos/editar/"+t,r).then(o=>{j(o),h(),v("modal_editar_projeto")}).catch(o=>{c(o)}).finally(()=>{p("btn_editar_projeto",!0)})});
