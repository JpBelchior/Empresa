import{a as u,e,m as _,h as o,f as d,l,s as p}from"./funcoes-CHYlhyTD.js";import{l as m}from"./funcoes-Dm_MpMBt.js";import"./index-Dfdn5vB8.js";$(document).on("click",".editar",function(){let t=$(this).attr("usuario");u("modal_editar_usuario",!1),axios.get("empresas/lista").then(i=>{let a=i.data;$("#editar_usuario_empresa_id").empty();for(let r in a){let s=`<option value="${a[r].id}">${a[r].razao_social}</option>`;$("#editar_usuario_empresa_id").append(s)}}).catch(i=>{e(i)}),axios.get("usuarios/detalhes/"+t).then(i=>{let a=i.data,r=!!i.data.ativo;$("#editar_usuario_id").val(a.id),$("#editar_usuario_nome").val(a.nome),$("#editar_usuario_cpf_cnpj").val(a.cpf_cnpj),$("#editar_usuario_email").val(a.email),$("#editar_usuario_whatsapp").val(a.whatsapp),$("#editar_usuario_empresa_id").val(a.empresa_id),$("#editar_usuario_atribuicao").val(a.atribuicao),$("#editar_usuario_ativo").attr("checked",r),_("modal_editar_usuario")}).catch(i=>{e(i)}).finally(()=>{})});$("#btn_editar_usuario").click(function(){o("btn_editar_usuario",!1);let t={nome:$("#editar_usuario_nome").val(),cpf_cnpj:$("#editar_usuario_cpf_cnpj").val(),email:$("#editar_usuario_email").val(),whatsapp:$("#editar_usuario_whatsapp").val(),atribuicao:$("#editar_usuario_atribuicao").val(),empresa_id:$("#editar_usuario_empresa_id").val(),ativo:$("#editar_usuario_ativo").prop("checked")},i=$("#editar_usuario_id").val();axios.put("usuarios/editar/"+i,t).then(a=>{d("modal_editar_usuario"),l("modal_editar_usuario"),p(a),m()}).catch(a=>{e(a)}).finally(()=>{o("btn_editar_usuario",!0)})});
